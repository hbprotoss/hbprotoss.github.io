<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>hbprotoss的博客</title><link>http://hbprotoss.github.com</link><description>技术博客为主，辅以各种辅料。仙剑脑残粉</description><lastBuildDate>Mon, 18 Mar 2013 20:42:33 GMT</lastBuildDate><generator>nikola</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>nikola+gitpage搭建博客</title><link>http://hbprotoss.github.com/posts/nikolagitpageda-jian-bo-ke.html</link><description>&lt;p&gt;&amp;#26412;&amp;#26469;&amp;#21338;&amp;#23458;&amp;#26159;&amp;#22312;CSDN&amp;#19978;&amp;#30340;&lt;a href="http://blog.csdn.net/digimon"&gt;http://blog.csdn.net/digimon&lt;/a&gt;&amp;#65292;&amp;#20294;&amp;#26368;&amp;#36817;CSDN&amp;#22312;&amp;#25105;&amp;#36825;&amp;#19968;&amp;#30452;&amp;#26080;&amp;#27861;&amp;#30331;&amp;#24405;&amp;#65292;&amp;#24050;&amp;#32463;&amp;#22312;Evernote&amp;#19978;&amp;#31215;&amp;#21387;&amp;#20102;&amp;#22909;&amp;#20960;&amp;#31687;&amp;#21338;&amp;#23458;&amp;#65292;&amp;#25630;&amp;#28902;&amp;#20102;&amp;#65292;&amp;#20915;&amp;#23450;&amp;#33258;&amp;#24049;&amp;#25645;&amp;#20010;&amp;#21338;&amp;#23458;&amp;#12290;&lt;br&gt;
&amp;#30001;&amp;#20110;&amp;#30446;&amp;#21069;&amp;#26159;&amp;#27809;&amp;#26377;&amp;#25910;&amp;#20837;&amp;#26469;&amp;#28304;&amp;#30340;&amp;#23628;&amp;#19997;&amp;#65292;&amp;#27809;&amp;#38065;&amp;#21435;&amp;#20080;&amp;#20010;&amp;#22495;&amp;#21517;&amp;#12289;&amp;#24324;&amp;#20010;VPS&amp;#65292;&amp;#21482;&amp;#33021;&amp;#24819;&amp;#20813;&amp;#36153;&amp;#30340;&amp;#25307;&amp;#20102;&amp;#12290;WordPress&amp;#36825;&amp;#36135;&amp;#23631;&amp;#34109;GAE&amp;#30340;UA&amp;#65292;&amp;#23548;&amp;#33268;&amp;#27809;&amp;#27861;&amp;#30003;&amp;#35831;&amp;#21338;&amp;#23458;&amp;#65292;&amp;#26368;&amp;#21518;&amp;#24819;&amp;#21040;&amp;#20102;gitpage&amp;#12290;&amp;#34429;&amp;#28982;gitpage&amp;#20063;&amp;#26377;&amp;#38543;&amp;#26102;&amp;#34987;&amp;#22681;&amp;#30340;&amp;#39118;&amp;#38505;&amp;#65292;&amp;#20294;&amp;#26159;&amp;#25105;&amp;#30340;&amp;#21338;&amp;#23458;&amp;#20027;&amp;#35201;&amp;#35760;&amp;#24405;&amp;#25216;&amp;#26415;&amp;#20869;&amp;#23481;&amp;#65292;&amp;#20316;&amp;#20026;&amp;#31243;&amp;#24207;&amp;#29503;&amp;#32763;&amp;#20010;&amp;#20255;&amp;#22823;&amp;#30340;&amp;#38450;&amp;#28779;&amp;#22681;&amp;#36824;&amp;#26159;&amp;#27809;&amp;#38382;&amp;#39064;&amp;#30340;&amp;#21543;;-)  &lt;/p&gt;
&lt;p&gt;gitpage&amp;#21482;&amp;#25903;&amp;#25345;&amp;#38745;&amp;#24577;&amp;#39029;&amp;#38754;&amp;#65292;&amp;#32593;&amp;#19978;&amp;#25628;&amp;#20102;&amp;#19968;&amp;#19979;&amp;#65292;&amp;#29983;&amp;#25104;&amp;#38745;&amp;#24577;&amp;#39029;&amp;#38754;&amp;#30340;&amp;#24037;&amp;#20855;&amp;#36824;&amp;#30495;&amp;#19981;&amp;#23569;&amp;#65292;&amp;#22909;&amp;#20687;&amp;#19987;&amp;#38376;&amp;#20026;&amp;#27492;&amp;#35774;&amp;#35745;&amp;#30340;&amp;#19968;&amp;#26679;&amp;#65292;&amp;#22871;&amp;#39184;&amp;#21584;&amp;#26377;&amp;#26408;&amp;#26377;&amp;#12290;&lt;br&gt;
Python&amp;#30340;&amp;#23601;&amp;#26377;&amp;#19981;&amp;#23569;: &lt;a href="http://www.quora.com/Whats-the-best-available-static-blog-website-generator-in-Python"&gt;What's the best available static blog/website generator in Python?&lt;/a&gt;&lt;br&gt;
&amp;#36824;&amp;#26377;&amp;#26356;&amp;#22810;&amp;#21035;&amp;#30340;&amp;#35821;&amp;#35328;&amp;#25903;&amp;#25345;&amp;#30340;&amp;#24037;&amp;#20855;: &lt;a href="https://iwantmyname.com/blog/2011/02/list-static-website-generators.html"&gt;32 Static Website Generators For Your Site, Blog Or Wiki&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&amp;#26368;&amp;#32456;&amp;#36873;&amp;#25321;&amp;#20102;nikola&amp;#65292;&amp;#20063;&amp;#26159;&amp;#22240;&amp;#20026;Quora&amp;#19978;&amp;#37027;&amp;#31687;&amp;#25991;&amp;#31456;&amp;#30340;&amp;#25512;&amp;#33616;&amp;#12290;&lt;br&gt;
nikola&amp;#23448;&amp;#32593;&amp;#65306;&lt;a href="http://nikola.ralsina.com.ar/"&gt;http://nikola.ralsina.com.ar/&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&amp;#35814;&amp;#32454;&amp;#23433;&amp;#35013;&amp;#21644;&amp;#37197;&amp;#32622;&amp;#30340;&amp;#25945;&amp;#31243;&amp;#23601;&amp;#19981;&amp;#36184;&amp;#36848;&amp;#20102;&amp;#65292;&amp;#21487;&amp;#20197;&amp;#21442;&amp;#32771;&amp;#36825;&amp;#20004;&amp;#31687;&amp;#25991;&amp;#31456;&amp;#65306;&lt;br&gt;
+ &lt;a href="http://nikola.ralsina.com.ar/handbook.html"&gt;The Nikola Handbook&lt;/a&gt;&amp;#65288;&amp;#23448;&amp;#32593;&amp;#25945;&amp;#31243;&amp;#65289;&lt;br&gt;
+ &lt;a href="http://rca.is-programmer.com/2013/2/5/using-nikola-write-static-blog.37513.html"&gt;&amp;#29992; nikola &amp;#20889;&amp;#38745;&amp;#24577;&amp;#21338;&amp;#23458;&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&amp;#19979;&amp;#38754;&amp;#35828;&amp;#19968;&amp;#19979;&amp;#23433;&amp;#35013;&amp;#21644;&amp;#37197;&amp;#32622;nikola&amp;#26102;&amp;#35201;&amp;#27880;&amp;#24847;&amp;#30340;&amp;#38382;&amp;#39064;&amp;#12290;&lt;br&gt;
1.  &amp;#23448;&amp;#32593;&amp;#19978;&amp;#30340;&lt;a href="http://nikola.ralsina.com.ar/handbook.html#installing-nikola"&gt;&amp;#23433;&amp;#35013;&amp;#25351;&amp;#23548;&lt;/a&gt;&amp;#20013;&amp;#65292;&amp;#22914;&amp;#26524;&amp;#20320;&amp;#26159;Ubuntu&amp;#29992;&amp;#25143;&amp;#30340;&amp;#35805;&amp;#65292;&lt;a href="http://makotemplates.org/"&gt;Mako&lt;/a&gt;&amp;#19968;&amp;#23450;&amp;#35201;&amp;#29992;pip&amp;#23433;&amp;#35013;&amp;#25110;&amp;#33258;&amp;#24049;&amp;#21435;&amp;#19979;&amp;#65292;Ubuntu&amp;#23448;&amp;#26041;&amp;#28304;&amp;#19978;&amp;#30340;&amp;#29256;&amp;#26412;&amp;#22826;&amp;#26087;&amp;#65292;&amp;#36816;&amp;#34892;&amp;#20250;&amp;#20986;&amp;#38382;&amp;#39064;&amp;#12290;&lt;br&gt;
2.  &amp;#21916;&amp;#27426;&amp;#29992;markdown&amp;#30340;&amp;#31461;&amp;#38795;&amp;#38500;&amp;#20102;&amp;#26356;&amp;#25913;nikola&amp;#29983;&amp;#25104;&amp;#30340;&amp;#31449;&amp;#28857;&amp;#26681;&amp;#30446;&amp;#24405;&amp;#19979;&amp;#30340;&amp;#20174;conf.py&amp;#20043;&amp;#22806;&amp;#65292;&amp;#26032;&amp;#24314;&amp;#21338;&amp;#25991;&amp;#30340;&amp;#26102;&amp;#20505;&amp;#35201;&amp;#27880;&amp;#24847;&amp;#21152;&amp;#19978;&lt;code&gt;-f markdown&lt;/code&gt;&amp;#21442;&amp;#25968;&amp;#65306;&lt;code&gt;nikola new_post -f markdown&lt;/code&gt;&lt;br&gt;
3.  &amp;#21916;&amp;#27426;&amp;#29992;markdown&amp;#30340;&amp;#31461;&amp;#38795;&amp;#36824;&amp;#24471;&lt;strong&gt;&amp;#27880;&amp;#24847;&lt;/strong&gt;&amp;#19968;&amp;#19979;(==!)&amp;#65292;&amp;#23448;&amp;#26041;0.5.4&amp;#26377;&amp;#20010;bug&amp;#12290;&amp;#22312;&lt;code&gt;/usr/local/lib/python2.7/dist-packages/nikola/plugins/compile_markdown/__init__.py&lt;/code&gt;&amp;#25991;&amp;#20214;&amp;#20013;&amp;#65292;&amp;#22312;73~81&amp;#34892;&amp;#30340;&amp;#23383;&amp;#31526;&amp;#20018;&amp;#21069;&amp;#21152;&amp;#20010;&amp;#23383;&amp;#27597;u&amp;#12290;  &lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;    &lt;span class="n"&gt;with&lt;/span&gt; &lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"wb+"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"utf8"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;as&lt;/span&gt; &lt;span class="n"&gt;fd:&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;onefile:&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'&amp;lt;!-- \n'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'.. title: {0}\n'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'.. slug: {0}\n'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;slug&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'.. date: {0}\n'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'.. tags: {0}\n'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'.. link: \n'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'.. description: \n'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'--&amp;gt;\n\n'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"\nWrite your post here."&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&amp;#25913;&amp;#25104;  &lt;/p&gt;
&lt;div class="code"&gt;&lt;pre&gt;    &lt;span class="n"&gt;with&lt;/span&gt; &lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"wb+"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"utf8"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;as&lt;/span&gt; &lt;span class="n"&gt;fd:&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;onefile:&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="s"&gt;'&amp;lt;!-- \n'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="s"&gt;'.. title: {0}\n'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="s"&gt;'.. slug: {0}\n'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;slug&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="s"&gt;'.. date: {0}\n'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="s"&gt;'.. tags: {0}\n'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="s"&gt;'.. link: \n'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="s"&gt;'.. description: \n'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="s"&gt;'--&amp;gt;\n\n'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="s"&gt;"\nWrite your post here."&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&amp;#22240;&amp;#20026;&amp;#19981;&amp;#21152;u&amp;#23601;&amp;#26159;str&amp;#23545;&amp;#35937;&amp;#65292;&amp;#20889;&amp;#20837;&amp;#30340;&amp;#26159;utf-8&amp;#32534;&amp;#30721;&amp;#30340;&amp;#25991;&amp;#20214;&amp;#65292;&amp;#24403;title&amp;#31561;&amp;#21442;&amp;#25968;&amp;#37324;&amp;#20986;&amp;#29616;&amp;#38750;&amp;#33521;&amp;#25991;&amp;#23383;&amp;#27597;&amp;#30340;&amp;#26102;&amp;#20505;&amp;#20250;&amp;#20986;&amp;#20808;&amp;#35299;&amp;#30721;&amp;#24322;&amp;#24120;&amp;#12290;&amp;#65288;&amp;#39532;&amp;#19978;&amp;#25552;&amp;#20132;&amp;#20010;pull request&amp;#21435;&amp;#65289;&lt;br&gt;
4.  &amp;#24819;&amp;#35201;&amp;#24555;&amp;#36895;&amp;#23558;&amp;#39029;&amp;#38754;&amp;#21457;&amp;#24067;&amp;#33267;github&amp;#65292;&amp;#35831;&amp;#21442;&amp;#32771;&lt;a href="http://robertfw.github.com/posts/deploying-nikola-to-github-pages.html"&gt;Deploying Nikola to Github Pages&lt;/a&gt;  &lt;/p&gt;</description><guid>http://hbprotoss.github.com/posts/nikolagitpageda-jian-bo-ke.html</guid><pubDate>Mon, 18 Mar 2013 19:46:37 GMT</pubDate></item><item><title>python的import机制</title><link>http://hbprotoss.github.com/posts/pythonde-importji-zhi.html</link><description>&lt;p&gt;&amp;#21516;&amp;#19968;&amp;#20010;&amp;#27169;&amp;#22359;&amp;#20197;&amp;#30456;&amp;#21516;&amp;#30340;&amp;#27169;&amp;#22359;&amp;#21517;&amp;#34987;&amp;#23548;&amp;#20837;&amp;#26102;&amp;#65292;&amp;#27169;&amp;#22359;&amp;#20869;&amp;#30340;&amp;#20195;&amp;#30721;&amp;#21482;&amp;#25191;&amp;#34892;&amp;#19968;&amp;#36941;&amp;#65288;&amp;#27169;&amp;#22359;&amp;#21517;&amp;#24517;&amp;#39035;&amp;#30456;&amp;#21516;&amp;#65289;&amp;#12290;&lt;br&gt;
&amp;#20363;&amp;#65306;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;import/&lt;br&gt;
&amp;#160; &amp;#160; test.py&lt;br&gt;
&amp;#160; &amp;#160; mo/&lt;br&gt;
&amp;#160; &amp;#160; &amp;#160; &amp;#160; A.py  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="c1"&gt;# A.py&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="c1"&gt;# test.py&lt;/span&gt;
&lt;span class="c1"&gt;#!/usr/bin/env python3&lt;/span&gt;
&lt;span class="nb"&gt;import&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;
&lt;span class="nb"&gt;import&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;
&lt;span class="nb"&gt;import&lt;/span&gt; &lt;span class="n"&gt;mo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;
&lt;span class="nb"&gt;import&lt;/span&gt; &lt;span class="n"&gt;mo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;
&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abspath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'./mo'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;import&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr&gt;&lt;p&gt;test.py&amp;#20013;&amp;#65292;&amp;#31532;4&amp;#34892;&amp;#25191;&amp;#34892;&amp;#21518;&amp;#36755;&amp;#20986;1&amp;#12290;&amp;#31532;5&amp;#34892;&amp;#19981;&amp;#36755;&amp;#20986;&amp;#65292;&amp;#22240;&amp;#20026;mo.A&amp;#24050;&amp;#32463;&amp;#34987;&amp;#23548;&amp;#20837;&amp;#24403;&amp;#21069;namespace&amp;#12290;  &lt;/p&gt;
&lt;p&gt;&amp;#20294;&amp;#26159;&amp;#31532;9&amp;#34892;&amp;#65292;&amp;#34429;&amp;#28982;&amp;#37117;&amp;#26159;&amp;#21516;&amp;#19968;&amp;#20010;&amp;#29289;&amp;#29702;&amp;#25991;&amp;#20214;A.py&amp;#65292;&amp;#20294;&amp;#26159;&amp;#34987;&amp;#23548;&amp;#20837;&amp;#26102;&amp;#30340;&amp;#21517;&amp;#23383;&amp;#19981;&amp;#21516;&amp;#65288;mo.A&amp;#21644;A&amp;#65289;&amp;#65292;&amp;#25152;&amp;#20197;&amp;#36824;&amp;#26159;&amp;#20250;&amp;#36755;&amp;#20986;1&amp;#12290;mo.A&amp;#21644;A&amp;#20316;&amp;#20026;&amp;#20004;&amp;#20010;&amp;#29420;&amp;#31435;&amp;#30340;module&amp;#23545;&amp;#35937;&amp;#23384;&amp;#22312;&amp;#24403;&amp;#21069;namespace&amp;#20013;&amp;#12290;  &lt;/p&gt;
&lt;p&gt;&amp;#22914;&amp;#26524;&amp;#35201;&amp;#25226;&amp;#27169;&amp;#22359;&amp;#20013;&amp;#30340;&amp;#21464;&amp;#37327;&amp;#24403;&amp;#20840;&amp;#23616;&amp;#21464;&amp;#37327;&amp;#26469;&amp;#20351;&amp;#29992;&amp;#30340;&amp;#35805;&amp;#65292;&amp;#19968;&amp;#23450;&amp;#35201;&amp;#20174;&amp;#39033;&amp;#30446;&amp;#39030;&amp;#37096;&amp;#36890;&amp;#36807;&amp;#8220;.&amp;#8221;&amp;#19968;&amp;#23618;&amp;#19968;&amp;#23618;import&amp;#12290;  &lt;/p&gt;</description><guid>http://hbprotoss.github.com/posts/pythonde-importji-zhi.html</guid><pubDate>Mon, 18 Mar 2013 19:11:42 GMT</pubDate></item><item><title>实现简单线程池</title><link>http://hbprotoss.github.com/posts/shi-xian-jian-dan-xian-cheng-chi.html</link><description>&lt;p&gt;&amp;#21069;&amp;#27573;&amp;#26102;&amp;#38388;&amp;#22312;&amp;#20889;&amp;#20195;&amp;#30721;&amp;#30340;&amp;#26102;&amp;#20505;&amp;#65288;&amp;#29992;&amp;#20102;Qt&amp;#65289;&amp;#20986;&amp;#29616;&amp;#20102;&amp;#20284;&amp;#20046;&amp;#36319;&amp;#32447;&amp;#31243;&amp;#27744;&amp;#26377;&amp;#20851;&amp;#30340;bug&amp;#65292;&amp;#22312;&amp;#19981;&amp;#30830;&amp;#23450;&amp;#26159;&amp;#21542;&amp;#26159;Qt&amp;#32447;&amp;#31243;&amp;#27744;&amp;#24211;QThreadPool&amp;#30340;bug&amp;#30340;&amp;#24773;&amp;#20917;&amp;#19979;&amp;#65292;&amp;#33258;&amp;#24049;&amp;#23454;&amp;#29616;&amp;#20102;&amp;#19968;&amp;#20010;&amp;#31616;&amp;#21333;&amp;#30340;&amp;#32447;&amp;#31243;&amp;#27744;&amp;#20197;&amp;#30830;&amp;#23450;&amp;#21040;&amp;#24213;&amp;#26159;&amp;#25105;&amp;#30340;&amp;#38382;&amp;#39064;&amp;#36824;&amp;#26159;QThreadPool&amp;#26159;&amp;#21542;&amp;#30495;&amp;#26377;bug&amp;#12290;&amp;#65288;&amp;#21095;&amp;#36879;&amp;#19979;&amp;#65292;&amp;#26368;&amp;#21518;&amp;#35777;&amp;#26126;&amp;#19981;&amp;#26159;QThreadPool&amp;#26377;&amp;#38382;&amp;#39064;&amp;#65292;&amp;#21487;&amp;#33021;&amp;#26159;&amp;#20449;&amp;#21495;&amp;#22312;&amp;#32447;&amp;#31243;&amp;#20043;&amp;#38388;&amp;#20256;&amp;#36882;&amp;#30340;&amp;#26102;&amp;#20505;&amp;#26377;&amp;#38382;&amp;#39064;&amp;#65292;&amp;#36825;&amp;#20010;bug&amp;#33267;&amp;#20170;&amp;#26410;&amp;#20462;&amp;#22797;= =&amp;#65289;  &lt;/p&gt;
&lt;p&gt;&amp;#19979;&amp;#38754;&amp;#35760;&amp;#24405;&amp;#19979;&amp;#25105;&amp;#36825;&amp;#20010;&amp;#32447;&amp;#31243;&amp;#27744;&amp;#30340;&amp;#23454;&amp;#29616;&amp;#24605;&amp;#36335;&amp;#12290;&lt;br&gt;
&amp;#20027;&amp;#35201;&amp;#26377;&amp;#20004;&amp;#20010;&amp;#31867;&amp;#65292;Thread&amp;#12289;Manager&amp;#12290;ThreadPool&amp;#31867;&amp;#26159;&amp;#25972;&amp;#20307;&amp;#30340;&amp;#21253;&amp;#35013;&amp;#12290;  &lt;/p&gt;
&lt;p&gt;Thread&amp;#65292;&amp;#32487;&amp;#25215;&amp;#33258;QThread&amp;#65292;&amp;#29992;&amp;#26469;&amp;#25191;&amp;#34892;&amp;#32447;&amp;#31243;&amp;#20195;&amp;#30721;&amp;#65292;&amp;#24182;&amp;#19988;&amp;#20316;&amp;#20026;&amp;#32447;&amp;#31243;&amp;#23545;&amp;#35937;&amp;#23384;&amp;#22312;&amp;#12290;&lt;br&gt;
Manager&amp;#65292;&amp;#24403;&amp;#21069;&amp;#32447;&amp;#31243;&amp;#27963;&amp;#21160;&amp;#24773;&amp;#20917;&amp;#30340;&amp;#31649;&amp;#29702;&amp;#31867;&amp;#65292;&amp;#26816;&amp;#26597;&amp;#32447;&amp;#31243;&amp;#27744;&amp;#20869;&amp;#31354;&amp;#38386;&amp;#32447;&amp;#31243;&amp;#30340;&amp;#24773;&amp;#20917;&amp;#65292;&amp;#24182;&amp;#31649;&amp;#29702;&amp;#26032;&amp;#28155;&amp;#21152;&amp;#30340;&amp;#20219;&amp;#21153;&amp;#12290;  &lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Manager&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Manager&amp;#20869;&amp;#37096;&amp;#26377;&amp;#19968;&amp;#20010;&amp;#32500;&amp;#25252;&amp;#31354;&amp;#38386;&amp;#32447;&amp;#31243;&amp;#23545;&amp;#35937;&amp;#30340;&amp;#38598;&amp;#21512;idle_thread&amp;#65292;&amp;#32771;&amp;#34385;&amp;#21040;&amp;#38656;&amp;#35201;&amp;#22312;O(1)&amp;#30340;&amp;#26102;&amp;#38388;&amp;#20869;&amp;#28155;&amp;#21152;&amp;#25110;&amp;#21024;&amp;#38500;&amp;#25351;&amp;#23450;&amp;#20803;&amp;#32032;&amp;#65292;&amp;#29992;&amp;#20102;python&amp;#20869;&amp;#32622;&amp;#30340;set&amp;#12290;set&amp;#20869;&amp;#37096;&amp;#20351;&amp;#29992;&amp;#21704;&amp;#24076;&amp;#23454;&amp;#29616;&amp;#30340;&amp;#65292;&amp;#25152;&amp;#20197;&amp;#26102;&amp;#38388;&amp;#25928;&amp;#29575;&amp;#22522;&amp;#26412;&amp;#33021;&amp;#25511;&amp;#21046;&amp;#22312;O(1)&amp;#24038;&amp;#21491;&amp;#12290;&lt;br&gt;
&amp;#36824;&amp;#26377;&amp;#19968;&amp;#20010;&amp;#24050;&amp;#28155;&amp;#21152;&amp;#20219;&amp;#21153;&amp;#30340;&amp;#38431;&amp;#21015;queue&amp;#12290;&amp;#26102;&amp;#38388;&amp;#25928;&amp;#29575;&amp;#19978;&amp;#65292;&amp;#20837;&amp;#38431;&amp;#21644;&amp;#20986;&amp;#38431;&amp;#37117;&amp;#35201;&amp;#27714;O(1)&amp;#30340;&amp;#26102;&amp;#38388;&amp;#65292;&amp;#20294;&amp;#26159;&amp;#26368;&amp;#20808;&amp;#24819;&amp;#21040;&amp;#30340;python&amp;#20869;&amp;#32622;&amp;#30340;list&amp;#23545;&amp;#35937;&amp;#26159;&amp;#25968;&amp;#32452;&amp;#21644;&amp;#38142;&amp;#34920;&amp;#30340;&amp;#32467;&amp;#21512;&amp;#65292;&amp;#20837;&amp;#38431;&amp;#26102;&amp;#38388;&amp;#26159;O(1)&amp;#65292;&amp;#20986;&amp;#38431;&amp;#26102;&amp;#38388;&amp;#21364;&amp;#26159;O(n)&amp;#65288;&amp;#21442;&amp;#35265;&lt;a href="http://blog.csdn.net/digimon/article/details/7875781"&gt;&amp;#36825;&amp;#20010;&amp;#38142;&amp;#25509;&lt;/a&gt;&amp;#65289;&amp;#65292;&amp;#25152;&amp;#20197;&amp;#29992;&amp;#20102;collections.deque&amp;#65292;&amp;#19968;&amp;#20010;&amp;#21452;&amp;#21521;&amp;#38142;&amp;#34920;&amp;#65292;&amp;#33021;&amp;#23454;&amp;#29616;&amp;#20837;&amp;#38431;&amp;#21644;&amp;#20986;&amp;#38431;&amp;#37117;&amp;#26159;O(1)&amp;#30340;&amp;#26102;&amp;#38388;&amp;#12290;&amp;#21478;&amp;#22806;&amp;#65292;&amp;#30001;&amp;#20110;&amp;#25105;&amp;#19981;&amp;#38656;&amp;#35201;&amp;#20248;&amp;#20808;&amp;#32423;&amp;#30340;&amp;#27010;&amp;#24565;&amp;#65292;&amp;#25152;&amp;#20197;&amp;#32447;&amp;#24615;&amp;#34920;&amp;#36275;&amp;#30691;&amp;#12290;&amp;#20197;&amp;#21518;&amp;#22914;&amp;#26524;&amp;#35201;&amp;#32771;&amp;#34385;&amp;#20248;&amp;#20808;&amp;#32423;&amp;#30340;&amp;#35805;&amp;#20250;&amp;#25913;&amp;#25104;&amp;#22534;&amp;#12290;&lt;br&gt;
&amp;#21478;&amp;#22806;&amp;#23601;&amp;#26159;&amp;#19968;&amp;#20010;idle_thread&amp;#30340;&amp;#20114;&amp;#26021;&amp;#37327;mutex&amp;#12290;&amp;#22240;&amp;#20026;set&amp;#23545;&amp;#35937;&amp;#26159;&amp;#32447;&amp;#31243;&amp;#19981;&amp;#23433;&amp;#20840;&amp;#30340;&amp;#65292;&amp;#25152;&amp;#20197;&amp;#22312;&amp;#28155;&amp;#21152;&amp;#21644;&amp;#21024;&amp;#38500;&amp;#20803;&amp;#32032;&amp;#30340;&amp;#26102;&amp;#20505;&amp;#24517;&amp;#39035;&amp;#26377;&amp;#20114;&amp;#26021;&amp;#37327;&amp;#20445;&amp;#25252;&amp;#12290;&amp;#32780;collections.deque&amp;#25991;&amp;#26723;&amp;#19978;&amp;#35828;&amp;#26159;&amp;#32447;&amp;#31243;&amp;#23433;&amp;#20840;&amp;#30340;&amp;#65292;&amp;#25152;&amp;#20197;&amp;#23601;&amp;#19981;&amp;#38656;&amp;#35201;&amp;#20114;&amp;#26021;&amp;#37327;&amp;#20043;&amp;#31867;&amp;#30340;&amp;#26426;&amp;#21046;&amp;#20102;&amp;#12290;  &lt;/p&gt;
&lt;p&gt;Manager&amp;#30340;&amp;#25509;&amp;#21475;&amp;#26377;&amp;#65306;&lt;br&gt;
hasIdleThread&amp;#65292;&amp;#36820;&amp;#22238;&amp;#32447;&amp;#31243;&amp;#27744;&amp;#20869;&amp;#26159;&amp;#21542;&amp;#36824;&amp;#26377;&amp;#31354;&amp;#38386;&amp;#32447;&amp;#31243;&amp;#12290;&lt;br&gt;
setThreadIdle&amp;#65292;&amp;#23558;&amp;#26576;&amp;#20010;&amp;#32447;&amp;#31243;&amp;#21152;&amp;#20837;&amp;#21040;&amp;#31354;&amp;#38386;&amp;#32447;&amp;#31243;&amp;#27744;&amp;#20013;&amp;#12290;&lt;br&gt;
startTask&amp;#65292;&amp;#20808;&amp;#23558;task&amp;#20837;&amp;#38431;&amp;#65292;&amp;#28982;&amp;#21518;&amp;#30475;&amp;#26159;&amp;#21542;&amp;#26377;&amp;#31354;&amp;#38386;&amp;#32447;&amp;#31243;&amp;#65292;&amp;#22914;&amp;#26524;&amp;#26377;&amp;#21017;&amp;#22312;&amp;#36825;&amp;#20010;&amp;#31354;&amp;#38386;&amp;#32447;&amp;#31243;&amp;#19978;&amp;#25191;&amp;#34892;&amp;#65292;&amp;#27809;&amp;#26377;&amp;#30340;&amp;#35805;&amp;#23601;&amp;#30041;&amp;#22312;&amp;#38431;&amp;#21015;&amp;#37324;&amp;#31561;&amp;#24453;&amp;#19979;&amp;#27425;&amp;#35843;&amp;#24230;&amp;#12290;  &lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;Thread&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&amp;#22312;run&amp;#26041;&amp;#27861;&amp;#20869;&amp;#65292;&amp;#36890;&amp;#36807;Manager&amp;#21462;&amp;#20986;&amp;#19968;&amp;#20010;task&amp;#25191;&amp;#34892;&amp;#65292;&amp;#24490;&amp;#29615;&amp;#30452;&amp;#21040;&amp;#20877;&amp;#27809;&amp;#26377;&amp;#26032;&amp;#30340;task&amp;#20026;&amp;#27490;&amp;#65292;&amp;#20043;&amp;#21518;&amp;#36339;&amp;#20986;&amp;#24490;&amp;#29615;&amp;#65292;&amp;#23558;&amp;#33258;&amp;#24049;&amp;#21152;&amp;#20837;&amp;#21040;&amp;#31354;&amp;#38386;&amp;#32447;&amp;#31243;&amp;#38598;&amp;#21512;&amp;#20869;&amp;#12290;&lt;br&gt;
&amp;#20854;&amp;#23454;&amp;#36825;&amp;#26679;&amp;#24182;&amp;#19981;&amp;#33021;&amp;#20445;&amp;#35777;&amp;#32447;&amp;#31243;&amp;#19968;&amp;#30452;&amp;#23384;&amp;#27963;&amp;#65292;&amp;#36824;&amp;#26159;&amp;#20250;&amp;#26377;&amp;#38144;&amp;#27585;&amp;#21644;&amp;#37325;&amp;#24314;&amp;#32447;&amp;#31243;&amp;#30340;&amp;#21160;&amp;#20316;&amp;#65292;&amp;#32780;&amp;#19988;&amp;#26576;&amp;#20123;&amp;#26497;&amp;#31471;&amp;#24773;&amp;#20917;&amp;#19979;&amp;#36824;&amp;#20250;&amp;#24456;&amp;#39057;&amp;#32321;&amp;#12290;&amp;#20294;&amp;#26159;&amp;#25105;&amp;#24403;&amp;#26102;&amp;#30340;&amp;#24773;&amp;#20917;&amp;#26159;&amp;#35201;&amp;#25191;&amp;#34892;&amp;#30340;&amp;#20219;&amp;#21153;&amp;#20250;&amp;#19968;&amp;#27425;&amp;#24615;&amp;#20840;&amp;#37096;&amp;#21152;&amp;#20837;&amp;#21040;&amp;#38431;&amp;#21015;&amp;#37324;&amp;#65292;&amp;#32780;&amp;#19979;&amp;#19968;&amp;#27425;&amp;#21516;&amp;#26679;&amp;#30340;&amp;#28155;&amp;#21152;&amp;#21160;&amp;#20316;&amp;#20250;&amp;#30456;&amp;#38548;&amp;#27604;&amp;#36739;&amp;#38271;&amp;#30340;&amp;#26102;&amp;#38388;&amp;#65292;&amp;#25152;&amp;#20197;&amp;#38382;&amp;#39064;&amp;#19981;&amp;#22823;&amp;#12290;&amp;#26356;&amp;#37325;&amp;#35201;&amp;#30340;&amp;#26159;&amp;#65292;&amp;#24403;&amp;#26102;&amp;#21482;&amp;#26159;&amp;#20026;&amp;#20102;&amp;#30830;&amp;#23450;QThreadPool&amp;#26159;&amp;#21542;&amp;#26377;bug&amp;#65292;&amp;#36825;&amp;#26041;&amp;#38754;&amp;#27809;&amp;#26377;&amp;#32771;&amp;#34385;&amp;#22320;&amp;#22826;&amp;#22810;&amp;#12290;  &lt;/p&gt;
&lt;p&gt;&amp;#19979;&amp;#38754;&amp;#26159;&amp;#20855;&amp;#20307;&amp;#20195;&amp;#30721;&amp;#65288;&amp;#36981;&amp;#24490;GPLv3&amp;#21327;&amp;#35758;&amp;#65289;  &lt;/p&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="code"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/usr/bin/env python3&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;collections&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PyQt4.QtCore&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;app&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;logger&lt;/span&gt;

&lt;span class="n"&gt;log&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getLogger&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__name__&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Thread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;QThread&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;manager&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Thread&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manager&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;manager&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__str__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="k"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manager&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;task&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manager&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dequeueTask&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;autoDelete&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;IndexError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="c"&gt;# There is no task&lt;/span&gt;
        &lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;'No task, %s quiting'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manager&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setThreadIdle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Manager&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_thread_count&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max_thread_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;max_thread_count&lt;/span&gt;

    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threads&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Thread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;'thread_%d'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_thread_count&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idle_threads&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;threads&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idle_threads_mutex&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QMutex&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;collections&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;deque&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;hasIdleThread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idle_threads&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;setThreadIdle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idle_threads_mutex&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idle_threads&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'%s becomes idle'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idle_threads_mutex&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unlock&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;startTask&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;enqueueTask&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'%s enqueued'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idle_threads_mutex&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;thread&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idle_threads&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;thread&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'%s started'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;KeyError&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="c"&gt;# No idle thread&lt;/span&gt;
        &lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'No idle thread'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;pass&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idle_threads_mutex&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unlock&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;enqueueTask&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;dequeueTask&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;popleft&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ThreadPool&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_thread_count&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manager&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Manager&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;max_thread_count&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;start&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="nb"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;QRunnable&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;TypeError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'Task must be QRunnable object.'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manager&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;startTask&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</description><guid>http://hbprotoss.github.com/posts/shi-xian-jian-dan-xian-cheng-chi.html</guid><pubDate>Mon, 18 Mar 2013 18:28:37 GMT</pubDate></item></channel></rss>